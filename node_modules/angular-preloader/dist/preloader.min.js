/*!
 * angular-preloader
 * http://github.com/joshuahiggins/angular-preloader
 * Version: 0.1.0
 * License: MIT
 */

"use strict";!function(){function a(a){return{restrict:"EA",template:['<div class="preloading">','<div ng-if="!ready"><span>{{message}}</span></div>','<div ng-if="ready" ng-transclude></div>',"</div>"].join(""),replace:!0,transclude:!0,scope:{load:"=",loadingMessage:"@",errorMessage:"@"},link:function(b,c,d){var e="["===d.load.substr(0,1)&&"]"===d.load.substr(-1,1),f=void 0===b.load||e&&d.load.length<=2,g=[],h=function(a){b.message=a,c.removeClass("preloading").addClass("error")};if(b.ready=!1,b.message=b.loadingMessage||"Loading...",f)return void h("Error: No data specified.");if(!f&&e){for(var i=0;i<b.load.length;i++)if(void 0===b.load[i])return void h("Error: Data is not defined in current scope.");g=g.concat(b.load)}else{if(f||e)return;g.push(b.load)}a.all(g).then(function(){c.removeClass("preloading").addClass("preloaded"),b.ready=!0},function(){h(b.errorMessage||"Error: Data failed to load.")})}}}angular.module("angular-preloader",[]).directive("preload",["$q",a])}();